# 가장 큰 정사각형

## 출처

* https://www.acmicpc.net/problem/1915

## 문제

* n×m의 0, 1로 된 배열이 있다. 이 배열에서 1로 된 가장 큰 정사각형의 크기를 구하는 프로그램을 작성하시오.

0	1	0	0
0	1	1	1
1	1	1	0
0	0	1	0

* 위와 같은 예제에서는 가운데의 2×2 배열이 가장 큰 정사각형이다.

## 입력

* 첫째 줄에 n, m(1 ≤ n, m ≤ 1,000)이 주어진다. 다음 n개의 줄에는 m개의 숫자로 배열이 주어진다.

## 출력

* 첫째 줄에 가장 큰 정사각형의 넓이를 출력한다.

## 입력 예제 1

```
4 4
0100
0111
1110
0010
```

## 출력 예제 1

```
4
```

## 풀이

* 정사각형을 만들려면 현재 위치 (i, j)를 오른쪽 아래 끝으로 하는 정사각형 중 가장 큰 크기는 위, 왼쪽, 대각선 왼쪽 위의 값들 중 최소값 + 1 이다.

즉,

```
dp[i][j] = if (map[i][j] == 1) {
    min(dp[i-1][j], dp[i][j-1], dp[i-1][j-1]) + 1
} else 0
```

* 이렇게 DP를 구성하고 가장 큰 정사각형 한 변의 길이를 찾는다.

## 소스코드

```kotlin
package dynamicprogramming

import java.io.BufferedReader
import java.io.InputStreamReader
import java.util.StringTokenizer
import kotlin.math.min

fun main() {
    val br = BufferedReader(InputStreamReader(System.`in`))
    val st = StringTokenizer(br.readLine())

    val n = st.nextToken().toInt()
    val m = st.nextToken().toInt()

    val map = Array(n) { IntArray(m) }
    for (i in 0 until n) {
        val line = br.readLine().trim()
        for (j in 0 until m) {
            map[i][j] = line[j] - '0'
        }
    }

    // dp[i][j] = (i,j)를 오른쪽 아래 끝으로 하는 가장 큰 정사각형 한 변의 길이
    val dp = Array(n) { IntArray(m) }
    var maxSize = 0

    for (i in 0 until n) {
        for (j in 0 until m) {
            if (map[i][j] == 1) {
                if (i == 0 || j == 0) {
                    // 가장자리일 경우
                    dp[i][j] = 1
                } else {
                    dp[i][j] = min(
                        min(dp[i - 1][j], dp[i][j - 1]),
                        dp[i - 1][j - 1]
                    ) + 1
                }
                if (dp[i][j] > maxSize) {
                    maxSize = dp[i][j]
                }
            }
        }
    }

    println(maxSize * maxSize)
}

```
