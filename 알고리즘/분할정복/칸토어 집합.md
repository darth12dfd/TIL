# 칸토어 집합

## 출처

* https://www.acmicpc.net/problem/4779

## 문제

* 칸토어 집합은 0과 1사이의 실수로 이루어진 집합으로, 구간 [0, 1]에서 시작해서 각 구간을 3등분하여 가운데 구간을 반복적으로 제외하는 방식으로 만든다.

* 전체 집합이 유한이라고 가정하고, 다음과 같은 과정을 통해서 칸토어 집합의 근사를 만들어보자.

1. -가 3N개 있는 문자열에서 시작한다.

2. 문자열을 3등분 한 뒤, 가운데 문자열을 공백으로 바꾼다. 이렇게 하면, 선(문자열) 2개가 남는다.

3. 이제 각 선(문자열)을 3등분 하고, 가운데 문자열을 공백으로 바꾼다. 이 과정은 모든 선의 길이가 1일때 까지 계속 한다.

* 예를 들어, N=3인 경우, 길이가 27인 문자열로 시작한다.

```
---------------------------
```

* 여기서 가운데 문자열을 공백으로 바꾼다.

```
---------         ---------
```

* 남은 두 선의 가운데 문자열을 공백으로 바꾼다.

```
---   ---         ---   ---
```

* 한번 더

```
- -   - -         - -   - -
```

* 모든 선의 길이가 1이면 멈춘다. N이 주어졌을 때, 마지막 과정이 끝난 후 결과를 출력하는 프로그램을 작성하시오

## 입력

* 입력을 여러 줄로 이루어져 있다. 각 줄에 N이 주어진다. 파일의 끝에서 입력을 멈춘다. N은 0보다 크거나 같고, 12보다 작거나 같은 정수이다.

## 출력

* 입력으로 주어진 N에 대해서, 해당하는 칸토어 집합의 근사를 출력한다.

## 입력 예제 1

```
0
1
3
2
```

## 출력 예제 1

```
-
- -
- -   - -         - -   - -
- -   - -
```

## 풀이

* 재귀를 이용해 문자열을 3등분하고 가운데를 공백으로 바꾸는 과정을 반복해 출력하는 문제(전형적인 분할정복)

* 처음에 길이가 3^N인 문자열을 **모두 '-'**로 채우기

* 재귀로 현재 범위를 3등분해서 가운데 범위를 공백으로 만들고, 왼쪽 부분과 오른쪽 부분을 다시 재귀로 처리 

* 길이가 1이 되면 더 이상 가운데를 없앨 수 없으므로 재귀 종료. 

* 여러 줄 입력에서 EOF까지 계속 처리.

## 소스코드

```kotlin
package divideandconquer

import java.io.BufferedReader
import java.io.InputStreamReader
import java.util.StringTokenizer
import kotlin.math.pow

fun main() {
    val br = BufferedReader(InputStreamReader(System.`in`))
    var line: String?

    fun makeCantor(arr: CharArray, start: Int, end: Int) {
        // 길이가 1이면 종료
        if (start >= end) return

        val third = (end - start + 1) / 3
        // 가운데 구간을 공백으로 바꿈
        for (i in start + third until start + third * 2) {
            arr[i] = ' '
        }
        // 왼쪽과 오른쪽 부분 재귀
        makeCantor(arr, start, start + third - 1)
        makeCantor(arr, start + third * 2, end)
    }

    while (true) {
        line = br.readLine() ?: break
        val N = StringTokenizer(line).nextToken().toInt()

        // 전체 길이 = 3^N
        val length = 3.0.pow(N).toInt()
        val arr = CharArray(length) { '-' } // 모든 문자 '-'

        // 재귀로 가운데 공백 만들기
        makeCantor(arr, 0, length - 1)

        // 결과 출력
        println(arr.concatToString())
    }
}

```
