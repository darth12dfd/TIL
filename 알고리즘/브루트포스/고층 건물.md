# 고층 건물

## 출처

* https://www.acmicpc.net/problem/1027

## 문제

* 세준시에는 고층 빌딩이 많다. 세준시의 서민 김지민은 가장 많은 고층 빌딩이 보이는 고층 빌딩을 찾으려고 한다. 빌딩은 총 N개가 있는데, 빌딩은 선분으로 나타낸다. i번째 빌딩 (1부터 시작)은 (i,0)부터 (i,높이)의 선분으로 나타낼 수 있다. 고층 빌딩 A에서 다른 고층 빌딩 B가 볼 수 있는 빌딩이 되려면, 두 지붕을 잇는 선분이 A와 B를 제외한 다른 고층 빌딩을 지나거나 접하지 않아야 한다. 가장 많은 고층 빌딩이 보이는 빌딩을 구하고, 거기서 보이는 빌딩의 수를 출력하는 프로그램을 작성하시오.

## 입력

* 첫째 줄에 빌딩의 수 N이 주어진다. N은 50보다 작거나 같은 자연수이다. 둘째 줄에 1번 빌딩부터 그 높이가 주어진다. 높이는 1,000,000,000보다 작거나 같은 자연수이다.

## 출력

* 첫째 줄에 문제의 정답을 출력한다.

## 입력 예제 1

```
15
1 5 3 2 6 3 2 6 4 2 5 7 3 1 5
```

## 출력 예제 1

```
7
```

## 입력 예제 2

```
1
10
```

## 출력 예제 2

```
0
```


## 풀이

* 각 빌딩 i를 기준으로 왼쪽을 i-1부터 0까지, 오른쪽을 i+1부터 N-1까지 기울기(slope) 를 계산하면서 가장 큰 기울기보다 크면 보이는 건물이다.

* 기울기 계산: slope = | (height[j] - height[i]) |  / | (j - i) | (소수점 비교 필요)

* 이것을 양쪽 방향으로 각각 따져서 보이는 개수 카운트. 이때 기울기이므로 음수값 나오는 오류를 범해선 안됨

## 소스코드

```kotlin
package bruteforce

import java.io.BufferedReader
import java.io.InputStreamReader
import java.util.StringTokenizer
import kotlin.math.max

fun main() {
    val br = BufferedReader(InputStreamReader(System.`in`))
    val n = br.readLine().toInt()
    val h = IntArray(n)

    val st = StringTokenizer(br.readLine())
    for (i in 0 until n) {
        h[i] = st.nextToken().toInt()
    }

    var answer = 0

    for (i in 0 until n) {
        var count = 0

        // 왼쪽
        var maxSlope = Double.NEGATIVE_INFINITY
        for (j in i - 1 downTo 0) {
            val slope = (h[j] - h[i]).toDouble() / (i - j)
            if (slope > maxSlope) {
                maxSlope = slope
                count++
            }
        }

        // 오른쪽
        maxSlope = Double.NEGATIVE_INFINITY
        for (j in i + 1 until n) {
            val slope = (h[j] - h[i]).toDouble() / (j - i)
            if (slope > maxSlope) {
                maxSlope = slope
                count++
            }
        }

        answer = max(answer, count)
    }

    println(answer)
}
```
