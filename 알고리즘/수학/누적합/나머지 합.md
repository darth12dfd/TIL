# ë‚˜ë¨¸ì§€ í•©

## ì¶œì²˜

* https://www.acmicpc.net/problem/10986

## ë¬¸ì œ

* ìˆ˜ Nê°œ A1, A2, ..., ANì´ ì£¼ì–´ì§„ë‹¤. ì´ë•Œ, ì—°ì†ëœ ë¶€ë¶„ êµ¬ê°„ì˜ í•©ì´ Mìœ¼ë¡œ ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ëŠ” êµ¬ê°„ì˜ ê°œìˆ˜ë¥¼ êµ¬í•˜ëŠ” í”„ë¡œê·¸ëž¨ì„ ìž‘ì„±í•˜ì‹œì˜¤.

* ì¦‰, Ai + ... + Aj (i â‰¤ j) ì˜ í•©ì´ Mìœ¼ë¡œ ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ëŠ” (i, j) ìŒì˜ ê°œìˆ˜ë¥¼ êµ¬í•´ì•¼ í•œë‹¤.

## ìž…ë ¥

* ì²«ì§¸ ì¤„ì— Nê³¼ Mì´ ì£¼ì–´ì§„ë‹¤. (1 â‰¤ N â‰¤ 106, 2 â‰¤ M â‰¤ 103)

ë‘˜ì§¸ ì¤„ì— Nê°œì˜ ìˆ˜ A1, A2, ..., ANì´ ì£¼ì–´ì§„ë‹¤. (0 â‰¤ Ai â‰¤ 109)

## ì¶œë ¥

* ì²«ì§¸ ì¤„ì— ì—°ì†ëœ ë¶€ë¶„ êµ¬ê°„ì˜ í•©ì´ Mìœ¼ë¡œ ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ëŠ” êµ¬ê°„ì˜ ê°œìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤.

## ìž…ë ¥ ì˜ˆì œ 1

```
5 3
1 2 3 1 2
```

## ì¶œë ¥ ì˜ˆì œ 1

```
7
```

## í’€ì´

* ê° ëˆ„ì í•©ì„ ê³„ì‚°í•˜ë©´ì„œ Mìœ¼ë¡œ ë‚˜ëˆˆ ë‚˜ë¨¸ì§€ë¥¼ ì„¼ë‹¤.

* ê°™ì€ ë‚˜ë¨¸ì§€ë¥¼ ê°€ì§„ ëˆ„ì í•© ìŒì´ ìžˆìœ¼ë©´, ê·¸ ì‚¬ì´ êµ¬ê°„ í•©ì€  Mìœ¼ë¡œ ë‚˜ëˆ„ì–´ë–¨ì–´ì§„ë‹¤.

* ë˜í•œ ë‚˜ë¨¸ì§€ê°€ 0ì¸ ëˆ„ì í•© ìžì²´ë„ ìœ íš¨í•œ êµ¬ê°„

=> í•µì‹¬ í’€ì´

* ëˆ„ì í•©ì„ ì§ì ‘ ì €ìž¥í•  í•„ìš” ì—†ì´ ë°”ë¡œ ë‚˜ë¨¸ì§€ë§Œ ì„¼ë‹¤

* ë‚˜ë¨¸ì§€ ë°°ì—´ count[r]ëŠ” ê°™ì€ ë‚˜ë¨¸ì§€ë¼ë¦¬ ì¡°í•©ì„ ë§Œë“¤ë©´ ìœ íš¨í•œ êµ¬ê°„ì´ ëœë‹¤: 
ð‘›
ð¶
2
=
ð‘›
âˆ—
(
ð‘›
âˆ’
1
)
/
2
nC2=nâˆ—(nâˆ’1)/2

* ë‚˜ë¨¸ì§€ê°€ 0ì¸ ê²½ìš°ëŠ” ëˆ„ì í•© í•˜ë‚˜ë§Œìœ¼ë¡œë„ ë‚˜ëˆ ë–¨ì–´ì§„ë‹¤

## ì†ŒìŠ¤ì½”ë“œ

```kotlin
package mathematics.prefixsum

import java.io.BufferedReader
import java.io.InputStreamReader
import java.util.StringTokenizer

fun main() = with(BufferedReader(InputStreamReader(System.`in`))) {

    // ì²« ì¤„ ìž…ë ¥: ìˆ˜ì˜ ê°œìˆ˜ N, ë‚˜ëˆŒ ê°’ M
    val st = StringTokenizer(readLine())
    val N = st.nextToken().toInt()
    val M = st.nextToken().toInt()

    // ë‘ ë²ˆì§¸ ì¤„ ìž…ë ¥: ìˆ˜ì—´
    val nums = StringTokenizer(readLine())

    // ë‚˜ë¨¸ì§€ë³„ ê°œìˆ˜ë¥¼ ì €ìž¥í•  ë°°ì—´
    // count[r] = ëˆ„ì í•© % M == r ì¸ ê²½ìš°ì˜ ê°œìˆ˜
    val count = LongArray(M)

    var prefixSum = 0L

    // ëˆ„ì í•©ì„ ê³„ì‚°í•˜ë©´ì„œ ë‚˜ë¨¸ì§€ ê°œìˆ˜ ì„¸ê¸°
    for (i in 0 until N) {
        val num = nums.nextToken().toLong()
        prefixSum = (prefixSum + num) % M
        count[prefixSum.toInt()]++
    }

    var answer = 0L

    // ëˆ„ì í•© ìžì²´ê°€ Mìœ¼ë¡œ ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ëŠ” ê²½ìš°
    // (ì‹œìž‘ë¶€í„° í˜„ìž¬ê¹Œì§€ì˜ í•©)
    answer += count[0]

    // ê°™ì€ ë‚˜ë¨¸ì§€ë¥¼ ê°€ì§„ ëˆ„ì í•© ì¤‘ 2ê°œë¥¼ ê³ ë¥´ë©´
    // ê·¸ ì‚¬ì´ êµ¬ê°„ í•©ì€ Mìœ¼ë¡œ ë‚˜ëˆ„ì–´ ë–¨ì–´ì§
    for (r in 0 until M) {
        val c = count[r]
        if (c >= 2) {
            answer += c * (c - 1) / 2
        }
    }

    // ê²°ê³¼ ì¶œë ¥
    println(answer)
}

```
