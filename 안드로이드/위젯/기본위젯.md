# 기본 위젯

## 텍스트 뷰

* 화면에 글자를 보여주는 위젯

### text 속성

* 텍스트뷰의 문자열을 설정하며, 이 때 text 속성을 반드시 지정해야 한다.

* 텍스트 속성을 추가하는 방법: ```XML 레이아웃 파일에서 직접 문자열 입력```, ```strings.xml파일에 작성한 문자열을 지정```

* 후자의 방법을 더 권장(xml 레이아웃 파일과 문자열 파일을 구분하는 것이 좋음, 다국어 지원이 필요한 경우, 각 언어별 버전의 xml 레이아웃 보다는 strings.xml 파일을 언어별로 만드는 것이 더 효율적)

* ```strings.xml```파일은 ```/app/res/values```폴더 안에 있다.

* strings.xml파일로 문자열을 추가하려면, strings.xml파일의  <resources>태그 안에 <string>태그를 이용하여 원하는 문자열을 넣으면 된다. 예시는 다음과 같다.

```xml
<resources>
    <string name="app_name">SampleWidget</string>
    <string name="person_name">이규원</string>
</resources>
```

* ```<string>``` 태그 안의 문자열을 텍스트 뷰에 나타나게 하는 방법은 xml 레이아웃 파일에서 ```[Design]```탭에서는 해당 텍스트뷰의 text 속성에 ```@string/...```과 같은 형식으로 참조하고, ```[Code]```탭에서는 다음과 같은 코드를 추가하면 된다.

* ```android:text="@string/person_name"```

### textColor 속성

* 텍스트뷰에서 표시하는 문자열의 색상을 설정

* 일반적으로 ```AARRGGBB``` 포맷을 사용한다.

* 이 때, # 뒤에 오는 4종류의 2자리 값은 각각 ```Alpha```, ```Red```, ```Green```, ```Blue```를 의미한다.

* ```Alpha```는 투명도를 나타내며, ```투명하지 않음(FF)```, ```투명함(00)```, ```반투명(88)```을 설정할 수 있다. 예를 들어 투명하지 않은 빨간 색은 textColor 속성 값을 ```#ffff0000```으로 입력하면 된다.

### textSize 속성

* 텍스트뷰에 표시하는 문자열의 크기(폰트 크기)를 설정

* 크기 단위는 ```dp```, ```sp```, ```px``` 등을 사용한다. 이 중, ```sp```는 단말의 해상도에 따라 글자의 크기를 일정한 크기로 보일 수 있게 한다.

### textStyle 속성

* 텍스트뷰에서 표시하는 문자열의 스타일 속성을 설정

* ```normal```, ```bold```, ```italic``` 등의 값을 지정할 수 있으며, ```|```기호를 사용하면 여러 개의 속성 값을 함께 지정할 수 있음. 이 때, ```|``` 기호의 앞뒤에 공백이 있어서는 안됨

### typeFace 속성

* 텍스트뷰에서 표시하는 문자열의 폰트를 설정

* ```normal```, ```sans```, ```serif```, ```mnospace```중에서 하나를 지정한다. 

* 만약 다른 폰트가 필요하다면 폰트를 앱에 추가하고 그 폰트를 설정할 수 있음

### maxLines 속성

* 텍스트뷰에서 표시하는 문자열의 최대 줄 수를 설정. 예를 들어 한 줄로만 표시하고 싶을 때는 값을 1로 설정하면 된다.

## 버튼

* 사용자가 클릭하면 클릭에 대한 반응을 하는 위젯이며, 텍스트뷰를 상속한다. 즉, text나 textColor, textSize 등의 속성은 텍스트뷰의 그것돠 동일하다.

* 다양한 유형의 버튼을 제공한다. (ex. 체크박스, 라디오 버튼 등등)

* 버튼 위젯에서 발생한 이벤트를 간단하게 처리하는 방법은 ```OnClickListener```를 정의하여 버튼에 설정하는 것이다.

### 체크박스, 라디오 버튼

* 체크박스와 라디오 버튼은 단순히 클릭 이벤트만 처리하는 것이 아니라, 상태 값을 저장하고 선택/해제ㅔ 상태를 표시할 수 있음

* 이런 작업이 가능하도록 ```CompoundButton```클래스가 정의되어 있다. 해당 클래스는 다음과 같은 메서드를 포함하고 있다.

```
public boolean isChecked()
public void setChecked(boolean checked)
public void toggle()
```

* ```isChecked()``` 메서드는 체크 박스, 라디오 버튼이 선택되어 있는지 확인하는 메서드이다.

* ```setChecked()``` 메서드는 체크 상태를 지정하는 메서드이다.

* 만약 버튼의 상태가 바뀌는 것을 알고 싶다면 다음 메서드를 재정의하여 사용합니다.

```void onCheckedChanged(CompoundButton buttonView,boolean isChecked)```

* 라디오 버튼은 하나의 버튼이 선택되면 다른 버튼의 선택이 해제되어야 한다. 이런 기능을 구현하기 위하여 ```RadioGroup```을 이용해 라디오 버튼을 하나의 그룹으로 묶어준다.

* 버튼에 아이콘을 넣고 싶으면 아이콘을 설정하는 속성을 추가하면 된다. 또한 텍스트가 없는 버튼을 사용하고 싶다면 ```ImageButton```태그를 적용할 수도 있다.

## 에디트텍스트

* 입력상자 역할을 한다. 사용자에게 값을 입력받을 때 사용

* 글자를 입력시키기 위해 커서를 옮기면 키패드가 화면에 나타난다.

### hint 속성

* 입력상자의 기본 안내글을 표시하는 속성이다.

* 안내글은 사용자의 입력이 진행되면 사라진다.

### inputType 속성

* 입력되는 글자의 유형을 정의하는 속성이다.

## 이미지뷰, 이미지 버튼

* 이미지를 화면에 표시할 때 사용하는 위젯

* 이미지뷰, 이미지 버튼의 차이점은 버튼처럼 사용할 수 있느냐 아니냐 를 제외하면 없음

* 이미지 뷰에 이미지를 나타내려면 ```drawable```폴더에 저장한 이미지 파일을 복사하여 넣은 후 ```app:srcCompat``` 속성 값을 ```@drawable/이미지 파일명```으로 지정하면 된다. 이 때, 이미지 파일명은 확장자를 제외하고 작성해야 한다.

* 위의 방식을 '이미지 리소스 지정 방식'이라고 한다.(이미지 파일은 res폴더 안에 들어있는 리소스 중의 하나이기 때문)

* 이 외에도 이미지 파일을 소스코드에서 직접 로딩하여 비트맵으로 만든 후 설정하는 방법도 있다.

### ```android:src```, ```app:srcCompat``` 속성

* 원본 이미지를 설정

* 반드시 설정되어야 한다.(텍스트 뷰의 text 속성과 동일하다고 보면 된다.)

* 이미지 뷰에 추가하는 이미지의 확장자는 JPG 또는 PNG 확장자이다.

### ```maxWidth```, ```maxHeight``` 속성

* 이미지가 표시되는 최대 폭, 높이를 설정한다.

* 이 속성을 설정하지 않으면, 원본 이미지가 그대로 나타난다.

### ```tint``` 속성

* 이미지뷰에 보이는 이미지의 색상을 설정할 수 있다.

### ```scaleType``` 속성

* 이미지뷰의 크기에 맞게 원본 이미지의 크기를 자동으로 늘리거나 줄여서 보여줄 때 사용한다.

* 이 속성에는 ```fitXY```, ```centerCrop```, ```centerInside``` 등의 이미지 변환 알고리즘이 적용된 미리 정의된 값을 사용할 수 있다.

### 셀렉터

* 이미지 버튼은 일반적인 버튼과 다르게 눌린 상태와 눌리지 않은 상태가 표시되지 않는다. 이 문제를 해결하기 위해 사용한다.

## 텍스트뷰와 에디트텍스트의 다른 기능들

* 두 속성 모두 뷰를 상속받아 만들어진 것이므로 뷰의 속성들을 그대로 가지고 있다.

### 커서 관련 소성

* 에디트텍스트에는 문자나 숫자를 입력하는 역할을 하며 커서가 깜빡이는 동작이 있다.

* 에디트텍스트의 커서 위치는 입력된 문자열의 마지막 지점으로 이동하도록 되어 있다.

* 사용자가 에디트텍스트를 선택할 때마다 전체 내용을 수정할 수 있도록 편의를 제공할 수도 있다. 예를 들어, ```selectAllOnFocuse``속성을 true로 설정하면 포커스를 받을 때 문자열 전체가 선택된다. 이렇게 되면 입력되어 있던 문자열을 한꺼번에 대체할 수 있다.

* 또한, 문자열 전체가 선택되어 있는 상태에서 문자열을 대체하지 않고 추가하고 싶다면 왼쪽이나 오른족 바얗ㅇ키를 한 번 누르고 입력할 수도 있다. 

* 커서를 보이지 않게 설정하려면 ```cursorvisible```속성을 false 값으로 설정하면 된다.

#### ```public int getSelectionStart()```, ```public int getSelectionEnd()``` 메서드

* 각각 선택된 영역의 시작 위치와 끝 위치를 알려준다.

* 두 메서드 모두 선택 영역이 없으면 커서가 있는 현재 위치를 알려준다.

#### ```public void setSelection(int start, int stop)```, ```public void setSelection(int index)``` 메서드

* 선택 영역을 지정하는 데 사용한다.

#### ```public void extendSelection(int index)``` 메서드

* 선택 영역을 확장하는 데 사용

#### ```public void selectAll()``` 메서드

* 전체 문자열을 선택

### 자동 링크 관련 속성

* ```autoLink```속성을 true로 설정하면 문서에 포함된 웹페이지 주소나 이메일 주소를 링크 색상으로 표시하고 링크를 누르면 웹페이지에 바로 접속하거나 메일 편집기를 띄워주는 기능을 간단하게 넣을 수 있다.

### 줄 간격 조정 관련 속성

* ```lineSpacingMultiplier```: 줄 간격을 기본 줄 간격의 배수로 설정할 때 사용한다.

* ```lineSpacingExtra```: 여유 값으로 설정할 때 사용한다.

* 배수로 설정할 때는 기본 값을 1.0으로 놓고 값을 조절하면 된다.

### 대소문자 표시 관련 속성

* ```capitalize``` 속성: 글자, 단어, 문장 단위로 대소문자를 조절할 수 있다. 속성 값으로는 ```characters```(글자), ```word```(단어), ```sentences```(문자)등을 지정할 수 있다.

### 줄임 표시 관련 속성

#### ```ellipsize``` 속성

* 입력한 내용의 생략 부분을 설정 할 수 있음. 

* 속성 값이 ```none```인 경우, 뒷부분을 자른다.

* 속성 값이 "start", "middle", "end" 인 경우 각각 앞, 중간, 뒷부분을 잘라서 보여준다.

### 편집 가능 관련 속성

* 에디트텍스트에 입력되어 있는 문자열을 편집하지 못하게 하고 싶다면 editable 속성 값을 "false"로 설정하면 된다. 기본 값은 문자열을 편집할 수 있는 "true"이다.

### 문자열 변경 처리 관련 속성

#### ```getText()``` 메서드

* 에디트텍스트에 입력된 문자를 확인하거나 입력된 문자가 필요한 포맷과 맞는지 확인할 대, 사용한다.

* ```Editable```객체를 리턴한다. 이때, 이 객체의 ```toString()``` 메서드를 이용하면 일반 String 타입의 문자열을 확인할 수 있다.

#### ```TextChangedListener```

* 만약 문자열이 사용자의 입력에 의해 바뀔 때마다 확인하는 기능을 넣고 싶을 대 사용하면 된다.

* ```addTextChangedListener``` 메서드를 사용하면 ```TextWatcher```객체를 설정할 수 있다.

#### ```TextWatcher``` 객체

* 이 객체는 텍스트가 변경될 때마다 발생하는 이벤트를 처리한다.

* 이 인터페이스에는 다음과 같은 메서드들이 정의되어 있다. 이 메서드들 안에 필요한 기능을 추가한다.

```
public void beforeTextChanged(CharSequence s, int start, int coutn int after)
public void afterTextchanged(Editable s)
public void onTextChanged(CharSequence s, int start, int before, int count)
```

* ```setFilters()``` 메서드: 입력된 문자열의 길이 값을 확인할 때 사용, ```InputFilter```객체를 파라미터로 전달한다.

* ```InputFilter```객체의 ```LengthFilter()```메서드를 호출하면 입력될 문자열의 길이 값을 설정할 수 있다.
